<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>passar GeoJSON para Google Maps</title>
	<style type="text/css">
		body {
			height: 100%;
			width:100%;
		}
		#map{
			height:500px;
			width:1000px;
		}
	</style>
	
	<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
	<script type="text/javascript" src="GeoJSON.js"></script>
	<script type="text/javascript">
		

		////////////////////////
		// TROCAR ISSO PELA CIDADE DESEJADA
		var city_ex = {"type":"Feature","properties":{"id_cnm":"100151033","name":"Comodoro","name2":"COMODORO","numero_partido":13,"partido":"PT","uf":"MT","created_at":"2012-09-20T17:31:30.175Z","updated_at":"2012-09-20T17:31:32.909Z","the_geom_center":"POINT(-59.7522272946558 -13.1896726071296)","cartodb_id":55},"geometry":{"type":"MultiPolygon","coordinates":[[[[-58.867077,-12.20765],[-58.873228,-12.254916],[-58.866862,-12.265192],[-58.86595,-12.280175],[-58.843619,-12.327955],[-58.848394,-12.360182],[-58.853533,-12.373528],[-58.851371,-12.390488],[-58.856124,-12.409098],[-58.852616,-12.432654],[-58.859344,-12.454472],[-58.869646,-12.465244],[-58.892178,-12.477526],[-58.897865,-12.488386],[-58.907765,-12.497356],[-58.909483,-12.509675],[-58.905926,-12.534586],[-58.916839,-12.555842],[-58.92643,-12.567035],[-58.922509,-12.619029],[-58.936178,-12.63422],[-58.929959,-12.641086],[-58.944261,-12.655692],[-58.968096,-12.670343],[-58.979484,-12.687211],[-58.995068,-12.695434],[-59.007062,-12.696209],[-59.018648,-12.703296],[-59.030872,-12.70522],[-59.0454,-12.724671],[-59.045065,-12.745838],[-59.060567,-12.777386],[-59.0853,-12.802235],[-59.097017,-12.818853],[-59.10968,-12.827021],[-59.111177,-12.837131],[-59.12908,-12.842898],[-59.144038,-12.841527],[-59.149761,-12.8501],[-59.161519,-12.856737],[-59.187544,-12.893201],[-59.199593,-12.902003],[-59.209764,-12.904434],[-59.230156,-12.922832],[-59.24104,-12.94519],[-59.242099,-12.969235],[-59.246096,-12.978845],[-59.245041,-12.985858],[-59.239849,-12.985911],[-59.232788,-12.99569],[-59.238738,-13.004163],[-59.241461,-13.001667],[-59.246841,-13.004397],[-59.249572,-13.014668],[-59.24518,-13.024609],[-59.249373,-13.034991],[-59.245184,-13.03703],[-59.246892,-13.043773],[-59.261313,-13.052989],[-59.266823,-13.063821],[-59.285606,-13.062338],[-59.293517,-13.07187],[-59.296352,-13.084896],[-59.308432,-13.083416],[-59.317095,-13.093988],[-59.315093,-13.098317],[-59.320791,-13.109646],[-59.338375,-13.108923],[-59.353037,-13.124502],[-59.362019,-13.156497],[-59.368188,-13.156731],[-59.379956,-13.17271],[-59.378012,-13.196033],[-59.388295,-13.210915],[-59.390657,-13.236779],[-59.401463,-13.243255],[-59.407515,-13.242089],[-59.42185,-13.261026],[-59.428182,-13.28989],[-59.416374,-13.295525],[-59.413458,-13.300194],[-59.413543,-13.321919],[-59.402519,-13.332119],[-59.39374,-13.356266],[-59.403735,-13.366379],[-59.394514,-13.372408],[-59.393906,-13.385682],[-59.39929,-13.40382],[-59.395851,-13.411544],[-59.397211,-13.420421],[-59.401463,-13.422554],[-59.401096,-13.425919],[-59.405518,-13.425914],[-59.403042,-13.430298],[-59.407098,-13.431672],[-59.405954,-13.435891],[-59.401685,-13.435326],[-59.404266,-13.445011],[-59.396373,-13.445612],[-59.390992,-13.454838],[-59.393958,-13.465941],[-59.388543,-13.470783],[-59.395604,-13.475747],[-59.397625,-13.484795],[-59.406041,-13.487162],[-59.403597,-13.493598],[-59.406853,-13.501931],[-59.416064,-13.502813],[-59.422796,-13.515729],[-59.423242,-13.519843],[-59.419883,-13.518798],[-59.412878,-13.527995],[-59.41699,-13.536472],[-59.415358,-13.544656],[-59.418597,-13.550924],[-59.423712,-13.552794],[-59.426376,-13.557273],[-59.423433,-13.562052],[-59.428062,-13.565099],[-59.428098,-13.570122],[-59.419545,-13.571395],[-59.427075,-13.579856],[-59.424931,-13.584738],[-59.42121,-13.584502],[-59.424491,-13.590195],[-59.41813,-13.592134],[-59.423897,-13.606234],[-59.422741,-13.614702],[-59.417768,-13.618033],[-59.424185,-13.619632],[-59.420737,-13.623352],[-59.422989,-13.63129],[-59.420492,-13.634845],[-59.431218,-13.650966],[-59.427628,-13.656588],[-59.436103,-13.656774],[-59.446332,-13.684115],[-59.459079,-13.699806],[-59.450738,-13.716526],[-59.454506,-13.723286],[-59.449937,-13.737476],[-59.450658,-13.743016],[-59.455941,-13.74507],[-59.455185,-13.756663],[-59.457772,-13.76459],[-59.452461,-13.788744],[-59.456,-13.792822],[-59.452849,-13.804221],[-59.442684,-13.810593],[-59.446962,-13.810777],[-59.446357,-13.817024],[-59.448822,-13.817625],[-59.441215,-13.829812],[-59.44163,-13.838527],[-59.434711,-13.836923],[-59.432198,-13.839668],[-59.435439,-13.840059],[-59.433353,-13.845382],[-59.436597,-13.847233],[-59.432161,-13.861369],[-59.423382,-13.862328],[-59.420303,-13.855591],[-59.41001,-13.854587],[-59.402904,-13.858738],[-59.401385,-13.867297],[-59.400183,-13.863776],[-59.392464,-13.864484],[-59.394021,-13.874147],[-59.38733,-13.883739],[-59.38622,-13.879666],[-59.381329,-13.878252],[-59.380299,-13.883312],[-59.372943,-13.889844],[-59.377681,-13.896892],[-59.373165,-13.985199],[-59.390408,-14.001257],[-59.395851,-14.000453],[-59.413021,-14.014449],[-59.425161,-14.019241],[-59.434577,-14.02976],[-59.434494,-14.036441],[-59.454521,-14.041795],[-59.4586,-14.040447],[-59.464608,-14.030186],[-59.479329,-14.021122],[-59.492216,-14.015961],[-59.503159,-14.016839],[-59.525658,-14.014781],[-59.534465,-14.01055],[-59.547075,-14.025915],[-59.552063,-14.027696],[-59.5563,-14.029036],[-59.56081,-14.038336],[-59.568608,-14.042094],[-59.57964,-14.057587],[-59.592828,-14.062015],[-59.59522,-14.068908],[-59.608166,-14.07112],[-59.617021,-14.076846],[-59.623943,-14.077279],[-59.621301,-14.080173],[-59.629881,-14.084282],[-59.628384,-14.090669],[-59.647966,-14.089114],[-59.660305,-14.095649],[-59.665799,-14.092713],[-59.677628,-14.096092],[-59.681276,-14.091908],[-59.685962,-14.092734],[-59.688425,-14.099902],[-59.695269,-14.106709],[-59.706688,-14.110307],[-59.713473,-14.121679],[-59.713607,-14.121541],[-59.736306,-14.095646],[-59.744845,-14.055532],[-59.750281,-14.044668],[-59.751445,-14.006887],[-59.753703,-14.01609],[-59.762701,-14.020172],[-59.766303,-14.027774],[-59.774278,-14.033165],[-59.77705,-14.05661],[-59.770463,-14.070157],[-59.77144,-14.092313],[-59.788052,-14.119911],[-59.821883,-14.156363],[-59.831041,-14.170871],[-59.838798,-14.177722],[-59.843355,-14.173768],[-59.900239,-14.124915],[-59.911936,-14.105849],[-59.918606,-14.083442],[-59.950051,-14.078279],[-59.951973,-14.055221],[-59.961903,-14.04533],[-59.973353,-14.040522],[-59.980274,-14.041671],[-59.983773,-14.035909],[-59.992389,-14.040628],[-59.994859,-14.048013],[-60.000879,-14.051356],[-60.001363,-14.04386],[-60.006436,-14.03864],[-60.015491,-14.035208],[-60.024499,-14.036208],[-60.041498,-14.026541],[-60.052712,-14.024826],[-60.06809,-14.030302],[-60.084442,-14.030516],[-60.096276,-14.025641],[-60.111328,-14.027459],[-60.148525,-14.012456],[-60.163496,-14.011019],[-60.174619,-14.01278],[-60.183859,-14.021715],[-60.221279,-14.031165],[-60.253748,-14.048659],[-60.302946,-14.055702],[-60.309777,-14.061255],[-60.313807,-14.061294],[-60.317527,-14.066293],[-60.327886,-14.035478],[-60.338605,-14.030354],[-60.338474,-14.019781],[-60.346224,-14.02111],[-60.349364,-14.00936],[-60.35878,-14.017357],[-60.363794,-14.010684],[-60.375031,-14.016825],[-60.382277,-13.992453],[-60.382034,-13.987488],[-60.389009,-13.978893],[-60.415065,-13.98061],[-60.426477,-13.961829],[-60.420086,-13.963714],[-60.41909,-13.953898],[-60.409397,-13.950213],[-60.419203,-13.947638],[-60.418953,-13.937594],[-60.422531,-13.937491],[-60.427533,-13.943608],[-60.444447,-13.930905],[-60.446644,-13.93304],[-60.443814,-13.939441],[-60.450872,-13.937593],[-60.452289,-13.90472],[-60.456481,-13.894059],[-60.450336,-13.886419],[-60.451318,-13.883362],[-60.463453,-13.882487],[-60.467029,-13.885304],[-60.467366,-13.891767],[-60.475948,-13.885592],[-60.473538,-13.879768],[-60.464897,-13.873891],[-60.464118,-13.863155],[-60.456118,-13.858618],[-60.456755,-13.853909],[-60.467366,-13.856175],[-60.476586,-13.852339],[-60.48673,-13.857922],[-60.492726,-13.856335],[-60.469035,-13.833304],[-60.471562,-13.829649],[-60.479641,-13.833364],[-60.48998,-13.823548],[-60.485004,-13.819204],[-60.476194,-13.823947],[-60.468232,-13.821333],[-60.465453,-13.814198],[-60.477645,-13.809168],[-60.478754,-13.804413],[-60.473202,-13.801052],[-60.465616,-13.801747],[-60.467228,-13.795762],[-60.490175,-13.795897],[-60.498394,-13.78905],[-60.504007,-13.795622],[-60.511534,-13.79113],[-60.528448,-13.791878],[-60.517364,-13.777901],[-60.51806,-13.772688],[-60.522922,-13.768937],[-60.531868,-13.771586],[-60.548116,-13.770358],[-60.546473,-13.782426],[-60.550091,-13.781711],[-60.557623,-13.770935],[-60.569348,-13.768736],[-60.566343,-13.757933],[-60.578815,-13.755688],[-60.574698,-13.747467],[-60.586983,-13.746862],[-60.591923,-13.743244],[-60.600314,-13.748937],[-60.606615,-13.746315],[-60.605838,-13.739442],[-60.607925,-13.736637],[-60.610895,-13.740385],[-60.612146,-13.734872],[-60.610428,-13.728566],[-60.623453,-13.719567],[-60.630676,-13.728026],[-60.641393,-13.730947],[-60.646092,-13.738737],[-60.651592,-13.736092],[-60.652759,-13.730219],[-60.656254,-13.738375],[-60.665661,-13.730001],[-60.669032,-13.727],[-60.683978,-13.716058],[-60.689979,-13.69942],[-60.695562,-13.701561],[-60.693813,-13.715489],[-60.697092,-13.714997],[-60.70462,-13.704704],[-60.709928,-13.687356],[-60.716957,-13.685147],[-60.716752,-13.682248],[-60.713594,-13.682668],[-60.713892,-13.67603],[-60.709561,-13.676154],[-60.709593,-13.671752],[-60.699619,-13.670869],[-60.696955,-13.666533],[-60.702036,-13.660302],[-60.697676,-13.657795],[-60.699534,-13.654215],[-60.693446,-13.653336],[-60.690542,-13.648987],[-60.691731,-13.644748],[-60.686313,-13.639194],[-60.68901,-13.633529],[-60.685975,-13.625259],[-60.674209,-13.617122],[-60.67267,-13.612489],[-60.669515,-13.613525],[-60.669227,-13.60836],[-60.665895,-13.611519],[-60.664119,-13.604892],[-60.655398,-13.602474],[-60.645451,-13.592853],[-60.641118,-13.596571],[-60.638255,-13.592001],[-60.641342,-13.585091],[-60.633341,-13.579263],[-60.635644,-13.578002],[-60.632143,-13.571732],[-60.611197,-13.56638],[-60.600253,-13.572751],[-60.592448,-13.571581],[-60.587618,-13.565084],[-60.577587,-13.565259],[-60.555977,-13.553392],[-60.554779,-13.548213],[-60.548315,-13.548428],[-60.543979,-13.536532],[-60.533001,-13.53628],[-60.530306,-13.517072],[-60.501163,-13.498512],[-60.495552,-13.499752],[-60.486363,-13.49421],[-60.481683,-13.496882],[-60.478948,-13.493026],[-60.465528,-13.489144],[-60.456307,-13.493551],[-60.431946,-13.488466],[-60.430338,-13.481989],[-60.411473,-13.461687],[-60.402416,-13.462906],[-60.399865,-13.456282],[-60.387862,-13.454724],[-60.38153,-13.442165],[-60.383999,-13.441239],[-60.379275,-13.422484],[-60.379249,-13.415352],[-60.37181,-13.408896],[-60.37922,-13.39045],[-60.379529,-13.375263],[-60.376051,-13.374065],[-60.376556,-13.368712],[-60.37128,-13.367578],[-60.370191,-13.357335],[-60.371108,-13.348405],[-60.365225,-13.340976],[-60.366029,-13.332261],[-60.373415,-13.324472],[-60.371547,-13.31862],[-60.361559,-13.308596],[-60.361941,-13.301017],[-60.364914,-13.299972],[-60.363171,-13.296564],[-60.360694,-13.298503],[-60.35391,-13.29463],[-60.352055,-13.284859],[-60.351747,-13.273034],[-60.338974,-13.272362],[-60.333106,-13.258008],[-60.326655,-13.255349],[-60.324753,-13.250516],[-60.329725,-13.235496],[-60.328393,-13.230315],[-60.324301,-13.229359],[-60.320338,-13.216464],[-60.308166,-13.199516],[-60.309277,-13.19234],[-60.303779,-13.178398],[-60.299583,-13.175457],[-60.296109,-13.177193],[-60.268447,-13.144999],[-60.280556,-13.135647],[-60.276088,-13.126855],[-60.28095,-13.119974],[-60.277061,-13.112705],[-60.28231,-13.106191],[-60.279116,-13.102596],[-60.284231,-13.098932],[-60.28246,-13.093418],[-60.282933,-13.08058],[-60.267557,-13.077312],[-60.253308,-13.056385],[-60.248284,-13.05514],[-60.241273,-13.038485],[-60.237439,-13.034935],[-60.224634,-13.033568],[-60.220161,-13.02774],[-60.215233,-13.027008],[-60.213597,-13.00708],[-60.204508,-12.995641],[-60.201357,-12.988146],[-60.192006,-12.982083],[-60.189218,-12.97117],[-60.183285,-12.967656],[-60.167356,-12.97067],[-60.156494,-12.968775],[-60.150572,-12.964084],[-60.139734,-12.970233],[-60.1308,-12.961697],[-60.117106,-12.959582],[-60.10508,-12.919492],[-60.088042,-12.902456],[-60.079052,-12.881169],[-60.084636,-12.837331],[-60.077719,-12.804086],[-60.074576,-12.773383],[-60.090624,-12.73668],[-60.087446,-12.716419],[-60.07613,-12.688489],[-60.078022,-12.664576],[-60.062987,-12.641857],[-60.063737,-12.628731],[-60.06867,-12.616022],[-60.063237,-12.607591],[-60.034495,-12.594999],[-60.028045,-12.579368],[-60.02658,-12.561653],[-60.006881,-12.545741],[-60.000879,-12.536251],[-59.973343,-12.53039],[-59.957411,-12.502236],[-59.936321,-12.495088],[-59.935163,-12.487108],[-59.925598,-12.481849],[-59.913789,-12.479825],[-59.907604,-12.480243],[-59.904453,-12.472839],[-59.897199,-12.471213],[-59.896835,-12.476199],[-59.887947,-12.475037],[-59.868425,-12.482388],[-59.855794,-12.478628],[-59.844098,-12.467197],[-59.841289,-12.459394],[-59.842486,-12.424872],[-59.835054,-12.413221],[-59.832486,-12.401422],[-59.82377,-12.390506],[-59.818707,-12.389911],[-59.819194,-12.378771],[-59.805433,-12.368645],[-59.802049,-12.357417],[-59.792879,-12.345805],[-59.774291,-12.340979],[-59.757446,-12.328965],[-59.732654,-12.324619],[-59.730239,-12.327972],[-59.716305,-12.315997],[-59.7056,-12.307978],[-59.690318,-12.317331],[-59.669619,-12.313133],[-59.661425,-12.307912],[-59.65159,-12.312865],[-59.647818,-12.307533],[-59.627822,-12.302895],[-59.619785,-12.309035],[-59.596568,-12.312937],[-59.590849,-12.302102],[-59.586869,-12.303576],[-59.584652,-12.300787],[-59.571759,-12.306341],[-59.557208,-12.298211],[-59.539481,-12.295209],[-59.521094,-12.299704],[-59.520037,-12.296269],[-59.495257,-12.296711],[-59.482837,-12.287038],[-59.467535,-12.288658],[-59.455146,-12.284439],[-59.451373,-12.287295],[-59.415616,-12.284238],[-59.405062,-12.289164],[-59.388368,-12.282549],[-59.36676,-12.286933],[-59.349178,-12.279163],[-59.331817,-12.279349],[-59.312888,-12.285849],[-59.304652,-12.282892],[-59.272123,-12.288088],[-59.259176,-12.303413],[-59.243119,-12.306817],[-59.228651,-12.303435],[-59.22595,-12.308135],[-59.21854,-12.309061],[-59.214873,-12.315325],[-59.211899,-12.314102],[-59.194041,-12.331094],[-59.188648,-12.349138],[-59.182973,-12.355008],[-59.181263,-12.356193],[-59.174339,-12.363268],[-59.16526,-12.365052],[-59.14352,-12.357601],[-59.138338,-12.352213],[-59.128621,-12.352385],[-59.126289,-12.337984],[-59.113312,-12.315543],[-59.108448,-12.316075],[-59.114007,-12.30783],[-59.092811,-12.297651],[-59.082125,-12.283921],[-59.075043,-12.28029],[-59.067536,-12.268921],[-59.061983,-12.269438],[-59.05362,-12.255089],[-59.049316,-12.259744],[-59.044983,-12.250969],[-59.041696,-12.252237],[-59.035118,-12.247492],[-59.031282,-12.251698],[-59.029649,-12.245512],[-59.012478,-12.239312],[-59.008761,-12.232378],[-58.997731,-12.237732],[-58.974818,-12.230453],[-58.963782,-12.220795],[-58.940169,-12.221903],[-58.915506,-12.211836],[-58.907535,-12.21478],[-58.891282,-12.209511],[-58.870828,-12.209162],[-58.867077,-12.20765]]]]}}
		///////////////////////
		

		var map;
		currentFeature_or_Features = null;

		var pol_style = {
			strokeColor: "#FF0000",
			strokeOpacity: 0.75,
			strokeWeight: 2,
			fillColor: "#FF0000",
			fillOpacity: 0.30
		};
		
		//aqui se fosse fazer a bolinha de capital
		var capital_style = {
			icon: "img/capital_icon.png"
		};
		
		var infowindow = new google.maps.InfoWindow();
		
		function init(){
			map = new google.maps.Map(document.getElementById('map'),{
				zoom: 5,
				center: new google.maps.LatLng(-20, -50),
				mapTypeId: google.maps.MapTypeId.ROADMAP
			});
			///////////////////////////
			// Segundo argumento recebe um estilo, se precisar
			showFeature(city_ex,pol_style);
			///////////////////////////
		}
		function clearMap(){
			if (!currentFeature_or_Features)
				return;
			if (currentFeature_or_Features.length){
				for (var i = 0; i < currentFeature_or_Features.length; i++){
					if(currentFeature_or_Features[i].length){
						for(var j = 0; j < currentFeature_or_Features[i].length; j++){
							set_map_of(currentFeature_or_Features[i][j],true);
						}
					}
					else{
						set_map_of(currentFeature_or_Features[i],true);
					}
				}
			}else{
				set_map_of(currentFeature_or_Features,true);
			}
			if (infowindow.getMap()){
				infowindow.close();
			}
		}
		google.maps.Polygon.prototype.my_getBounds=function(){
	    var bounds = new google.maps.LatLngBounds()
	    this.getPath().forEach(function(element,index){bounds.extend(element)})
	    return bounds
		}
		function set_map_of(object,remove) {
			object.setMap(remove?null:map);
			if (!remove) {
				map.fitBounds(object.my_getBounds());
			};
		}
		function showFeature(geojson, style){
			clearMap();
			currentFeature_or_Features = new GeoJSON(geojson, style || null);

			if (currentFeature_or_Features.type && currentFeature_or_Features.type == "Error"){
				return false; //Aqui temos um erro!
			}
			if (currentFeature_or_Features.length){
				for (var i = 0; i < currentFeature_or_Features.length; i++){
					if(currentFeature_or_Features[i].length){
						for(var j = 0; j < currentFeature_or_Features[i].length; j++){
							set_map_of(currentFeature_or_Features[i][j]);
							if(currentFeature_or_Features[i][j].geojsonProperties) {
								setInfoWindow(currentFeature_or_Features[i][j]);
							}
						}
					}
					else{
						set_map_of(currentFeature_or_Features[i])
					}
				}
			}else{
				set_map_of(currentFeature_or_Features);
				if (currentFeature_or_Features.geojsonProperties) {
					setInfoWindow(currentFeature_or_Features);
				}
			}
		}
	</script>
</head>
<body onload="init();">
	<div id="map"></div>
</body>
</html>
